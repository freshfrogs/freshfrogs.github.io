<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fresh Frogs ‚Äî Collection dashboard</title>

  <link rel="stylesheet" href="assets/css/styles.css" />
</head>
<body class="ff-body">
  <div class="ff-site">
    <header class="ff-masthead">
      <div class="ff-container ff-masthead__inner">
        <a class="ff-logo" href="index.html"><span>üê∏</span>Fresh Frogs</a>
        <nav class="ff-nav" aria-label="Primary">
          <a href="collection.html" aria-current="page">Collection</a>
          <a href="rarity.html">Rarity</a>
          <a href="pond.html">Pond</a>
          <a href="mutate.html">Mutate</a>
        </nav>
        <a class="ff-button ff-button--ghost" href="rarity.html">Compare rarity</a>
      </div>
    </header>

    <main class="ff-main">
      <section class="ff-page-hero">
        <div class="ff-container ff-page-hero__inner">
          <div>
            <span class="ff-eyebrow">Dashboard</span>
            <h1 class="ff-page-hero__title">Command center for your frogs</h1>
            <p class="ff-page-hero__lead">
              Track staking rewards, view ownership status, and manage every frog in your wallet from a single responsive hub.
              The dashboard mirrors live blockchain data so you always act on the latest state.
            </p>
            <div class="ff-page-hero__meta">
              <span class="ff-pill">4,040 total supply</span>
              <span class="ff-pill">Stake to earn $FLYZ</span>
              <span class="ff-pill">Controller <span class="addr">0x7dfb‚Ä¶f1b2</span></span>
            </div>
          </div>
          <div class="ff-hero__media">
            <div class="ff-card-stack">
              <div class="ff-card-stack__layer" data-layer="1">
                <img data-dashboard-frog="1" src="frog/11.png" alt="Frog 11" />
                <p class="ff-card-stack__label">Manage staking, transfers, and approvals with layered card controls.</p>
              </div>
              <div class="ff-card-stack__layer" data-layer="2">
                <img data-dashboard-frog="2" src="frog/256.png" alt="Frog 256" />
              </div>
              <div class="ff-card-stack__layer" data-layer="3">
                <img data-dashboard-frog="3" src="frog/999.png" alt="Frog 999" />
              </div>
            </div>
          </div>
        </div>
      </section>

      <div class="ff-container" id="ffTopbarMount"></div>

      <section class="ff-page-content">
        <div class="ff-container">
          <div class="ff-page-grid">
            <div class="ff-main-panel">
              <section class="ff-panel" aria-labelledby="pondOverviewTitle">
                <div>
                  <h2 id="pondOverviewTitle">The pond at a glance</h2>
                  <p class="muted">Live staking metrics and controller details pulled directly from the Fresh Frogs contracts.</p>
                </div>
                <dl class="ff-stat-bar">
                  <div class="ff-stat"><dt>Total frogs staked</dt><dd id="stakedTotal">‚Äî</dd></div>
                  <div class="ff-stat"><dt>Controller</dt><dd><a id="stakedController" href="#" target="_blank" rel="noopener">‚Äî</a></dd></div>
                  <div class="ff-stat"><dt>Rewards token</dt><dd><a id="pondRewardsLink" href="#" target="_blank" rel="noopener"><span id="pondRewardsSymbol">$FLYZ</span></a></dd></div>
                  <div class="ff-stat"><dt>Latest activity</dt><dd id="pondLatest">Updating‚Ä¶</dd></div>
                </dl>
                <ul id="recentStakes" class="ff-feed" aria-live="polite" data-visible="5">
                  <li class="row"><div class="pg-muted">Loading recent stakes‚Ä¶</div></li>
                </ul>
              </section>

              <section id="ownedCard" class="ff-panel" aria-labelledby="ownedPanelTitle">
                <div class="ff-toolbar">
                  <div class="ff-toolbar__group">
                    <h2 id="ownedPanelTitle" style="margin:0;">Your frogs</h2>
                    <p class="muted" style="margin:0; max-width:32ch;">Connect your wallet to fetch owned tokens, staking status, and claimable rewards.</p>
                  </div>
                  <button id="ownedConnectBtn" class="ff-button ff-button--solid">Connect wallet</button>
                </div>
                <div class="ff-grid" id="ownedGrid">
                  <div class="ff-empty">Connect your wallet to view owned frogs.</div>
                </div>
                <div class="ff-toolbar" style="justify-content:center; display:none;" id="ownedMore">Loading more‚Ä¶</div>
              </section>
            </div>

            <aside class="ff-side-panel">
              <section class="ff-panel" aria-labelledby="activityTitle">
                <div>
                  <h2 id="activityTitle">Activity highlights</h2>
                  <p class="muted">Quick links to staking guides, contract addresses, and support resources.</p>
                </div>
                <ul class="ff-list-compact">
                  <li>
                    <strong>Need help staking?</strong>
                    <span class="meta">Review the step-by-step staking walkthrough from the docs.</span>
                  </li>
                  <li>
                    <strong>Controller contract</strong>
                    <span class="meta"><a id="controllerLink" href="#" target="_blank" rel="noopener">View on Etherscan</a></span>
                  </li>
                  <li>
                    <strong>Reward token</strong>
                    <span class="meta"><a href="https://etherscan.io/token/0xd71d2f57819ae4be6924a36591ec6c164e087e63" target="_blank" rel="noopener">$FLYZ contract</a></span>
                  </li>
                </ul>
              </section>
            </aside>
          </div>
        </div>
      </section>
    </main>

    <footer class="ff-footer">
      <div class="ff-container ff-footer__inner">
        <span>¬© Fresh Frogs</span>
        <span>Stake, claim rewards, and evolve your collection.</span>
      </div>
    </footer>
  </div>

  <script>
    (function(){
      const CFG = window.FF_CFG || {};
      const TOTAL = Number(CFG.TOTAL_SUPPLY || 4040);
      const ROOT  = String(CFG.SOURCE_PATH || '').replace(/\/+$/,'');
      function pick(n,max){
        const pool = Array.from({length:max}, (_,i)=> i+1);
        for(let i=pool.length-1;i>0;i--){
          const j=Math.floor(Math.random()*(i+1));
          const tmp=pool[i]; pool[i]=pool[j]; pool[j]=tmp;
        }
        return pool.slice(0,n);
      }
      function randomize(){
        const imgs = Array.from(document.querySelectorAll('[data-dashboard-frog]'));
        if(!imgs.length) return;
        const ids = pick(imgs.length, TOTAL);
        imgs.forEach(function(img, idx){
          const id = ids[idx];
          img.src = ROOT + '/frog/' + id + '.png';
          img.alt = 'Frog ' + id;
        });
      }
      if(document.readyState==='loading') document.addEventListener('DOMContentLoaded', randomize); else randomize();
    })();
  </script>

  <script src="https://cdn.jsdelivr.net/npm/web3@1.10.4/dist/web3.min.js"></script>
  <script src="assets/js/config.js"></script>
  <script src="assets/js/utils.js"></script>
  <script src="assets/js/rarity.js"></script>
  <script src="assets/js/modal.js"></script>
  <script src="assets/abi/collection_abi.js"></script>
  <script src="assets/abi/controller_abi.js"></script>
  <script src="assets/js/pond.js"></script>
  <script src="assets/js/wallet-state.js"></script>
  <script src="assets/js/wallet.js"></script>
  <script src="assets/js/staking-adapter.js"></script>
  <script src="assets/js/pond-kpis.js"></script>
  <script src="assets/js/topbar.js"></script>
  <script src="assets/js/frog-renderer.js"></script>
  <script src="assets/js/frog-cards.js" defer></script>
  <script src="assets/js/stakes-feed.js"></script>
  <script src="assets/js/pond-tweaks.js"></script>
  <script src="assets/js/owned-panel.js"></script>
  <script src="assets/js/frog-thumbs.js"></script>

  <script>
    if (window.FF_loadRecentStakes) FF_loadRecentStakes();
    if (window.FF_initOwnedPanel)   FF_initOwnedPanel();
  </script>

  <script>
    (function(){
      const cfg = window.FF_CFG || {};
      const addr = (cfg.CONTROLLER_ADDRESS || '').trim();
      const link = document.getElementById('controllerLink');
      if (!link || !addr) return;
      const chain = Number(cfg.CHAIN_ID || 1);
      let base = 'https://etherscan.io/address/';
      if (chain === 11155111) base = 'https://sepolia.etherscan.io/address/';
      else if (chain === 5) base = 'https://goerli.etherscan.io/address/';
      link.href = base + addr;
      link.textContent = addr.slice(0,6) + '‚Ä¶' + addr.slice(-4);
      link.setAttribute('data-addr', addr);
    })();
  </script>
</body>
</html>

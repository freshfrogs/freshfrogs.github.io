<!doctype html>
<html lang="en" data-theme="t1">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>freshfrogs — Mutate Lab</title>

  <!-- IMPORTANT: use the SAME stylesheet as collection.html -->
  <link rel="stylesheet" href="assets/styles.css" />

  <!-- Page-local micro tweaks only -->
  <style>
    .pg-wrap{ padding:20px; }
    .page-grid{
      display:grid; gap:16px; grid-template-columns: 1fr;
      align-items:start; max-width:1100px; margin:0 auto;
    }
    /* Match the right dashboard card look/width from collection */
    #mutateCard.pg-card{ max-width:700px; justify-self:center; }

    /* Keep frog card at a set width (same feel as collection card column) */
    #mutateFrogCard{ max-width:700px; }

    /* Layering area inside the frog card (replaces the plain .thumb when mutating) */
    .frog-preview{
      position:relative; width:128px; height:128px; border-radius:12px;
      background:var(--panel-2); grid-row: span 3;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.06), 0 6px 12px rgba(0,0,0,.25);
    }
    .frog-preview img{ width:128px; height:128px; object-fit:contain; display:block; }

    /* Your build layering classes */
    .trait_overlay, .attribute_overlay{
      position:absolute; left:0; top:0; width:128px; height:128px; object-fit:contain;
      pointer-events:none;
    }

    /* Hide debug JSON completely on this page */
    #morph-json{ display:none !important; }
  </style>

  <!-- Site config + helpers (same order style as collection page) -->
  <script src="assets/js/config.js"></script>
  <script src="assets/js/utils.js"></script>
  <script src="assets/js/topbar.js"></script>

  <!-- Mutate logic -->
  <script src="assets/js/mutate.js" defer></script>
</head>
<body class="theme-dark">

  <header id="siteTopbar"></header>

  <main class="pg-wrap">
    <div class="page-grid">

      <!-- Centered dashboard card (pond column removed) -->
      <section class="pg-card" id="mutateCard">
        <div class="pg-card-head">
          <h3>Mutate Lab</h3>
          <div class="spacer"></div>
          <!-- Optional wallet chip (same button class; enabled dynamically if desired) -->
          <button class="btn" id="mutateWalletBtn" style="display:none">Connect Wallet</button>
        </div>

        <!-- One frog info card (same structure/classes as collection) -->
        <article class="frog-card" id="mutateFrogCard">
          <!-- preview block that starts with base PNG; layers added on mutate -->
          <div class="frog-preview">
            <img id="mutateBase" class="thumb" alt="Frog" src="" />
            <!-- layered build gets appended here -->
            <div id="mutateLayers"></div>
          </div>

          <h4 class="title" id="mutateTitle">Frog #—</h4>
          <div class="meta" id="mutateMeta">Random preview</div>

          <!-- Attributes (bulleted, same style) -->
          <ul class="attr-bullets" id="mutateAttrs"></ul>

          <!-- Only two actions -->
          <div class="actions">
            <button class="btn btn-outline-gray" id="btnRefresh">Refresh</button>
            <button class="btn btn-outline-gray" id="btnMutate">Mutate</button>
          </div>

          <!-- Debug JSON is present but forced hidden via CSS above -->
          <pre id="morph-json" class="pg-muted"></pre>
        </article>
      </section>

    </div>
  </main>

  <script>
    // initialize your existing topbar (same as other pages)
    if (window.FF?.initTopbar) try { window.FF.initTopbar(); } catch {}
  </script>
</body>
</html>

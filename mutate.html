<!doctype html>
<html lang="en" data-theme="atlas">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fresh Frogs ‚Äî Mutations lab</title>

  <link rel="stylesheet" href="assets/css/styles.css" />

  <style>
    .mutate-shell{ display:grid; gap:28px; }
    .mutate-grid{ display:grid; gap:28px; grid-template-columns:minmax(0,420px) minmax(0,1fr); align-items:start; }
    @media (max-width:920px){ .mutate-grid{ grid-template-columns:1fr; } }
    .mutate-preview{ display:grid; gap:18px; }
    .mutate-card{ padding:24px; border-radius:24px; border:1px solid color-mix(in srgb,var(--border) 78%, transparent); background:linear-gradient(150deg, color-mix(in srgb,var(--panel) 85%, transparent) 0%, color-mix(in srgb,var(--panelSoft) 85%, transparent) 100%); box-shadow:0 24px 46px rgba(4,12,26,.45); display:grid; place-items:center; }
    .mutate-thumb{ width:min(360px,100%); aspect-ratio:1/1; border-radius:18px; background:color-mix(in srgb,var(--panelSoft) 86%, transparent); border:1px solid color-mix(in srgb,var(--border) 80%, transparent); display:grid; place-items:center; overflow:hidden; }
    .mutate-thumb img{ width:100%; height:100%; image-rendering:pixelated; object-fit:contain; }
    .mutate-actions{ display:flex; gap:12px; flex-wrap:wrap; justify-content:center; }
    .mutate-actions .btn{ border:1px solid color-mix(in srgb,var(--accent) 35%, transparent); background:transparent; color:var(--ink); border-radius:12px; padding:.65rem 1.05rem; font-weight:700; }
    .mutate-actions .btn:hover{ background:color-mix(in srgb,var(--accent) 16%, transparent); }
    .mutate-info{ display:grid; gap:18px; }
    .mutate-info h2{ margin:0; font:800 1.6rem/1.15 var(--font-display); }
    .mutate-sub{ margin:0; color:color-mix(in srgb,var(--muted) 78%, var(--ink) 12%); }
    .mutate-list{ list-style:disc; margin:0; padding-left:22px; display:grid; gap:8px; }
    .mutate-kv{ margin:0; color:color-mix(in srgb,var(--muted) 78%, var(--ink) 12%); font-size:.95rem; }
  </style>
</head>
<body class="ff-body">
  <div class="ff-site">
    <header class="ff-masthead">
      <div class="ff-container ff-masthead__inner">
        <a class="ff-logo" href="index.html"><span>üê∏</span>Fresh Frogs</a>
        <nav class="ff-nav" aria-label="Primary">
          <a href="collection.html">Collection</a>
          <a href="rarity.html">Rarity</a>
          <a href="pond.html">Pond</a>
          <a href="mutate.html" aria-current="page">Mutate</a>
        </nav>
        <a class="ff-button ff-button--ghost" href="collection.html">Back to dashboard</a>
      </div>
    </header>

    <main class="ff-main">
      <section class="ff-page-hero">
        <div class="ff-container ff-page-hero__inner">
          <div>
            <span class="ff-eyebrow">Mutation lab</span>
            <h1 class="ff-page-hero__title">Blend two frogs into a custom collectible</h1>
            <p class="ff-page-hero__lead">
              Select parent frogs, preview the hybrid traits, and mint a new mutation that inherits metadata directly from your
              chosen lineup. Animation layers render exactly as they appear on-chain.
            </p>
            <div class="ff-page-hero__meta">
              <span class="ff-pill">Live metadata preview</span>
              <span class="ff-pill">Animation-aware renderer</span>
              <span class="ff-pill">Wallet-powered minting</span>
            </div>
          </div>
          <div class="ff-hero__media">
            <div class="ff-card-stack">
              <div class="ff-card-stack__layer" data-layer="1">
                <img data-mutate-frog="1" src="frog/512.png" alt="Frog 512" />
                <p class="ff-card-stack__label">Fuse attributes from two parents and preview the results instantly.</p>
              </div>
              <div class="ff-card-stack__layer" data-layer="2">
                <img data-mutate-frog="2" src="frog/128.png" alt="Frog 128" />
              </div>
              <div class="ff-card-stack__layer" data-layer="3">
                <img data-mutate-frog="3" src="frog/45.png" alt="Frog 45" />
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="ff-page-content">
        <div class="ff-container">
          <section class="ff-panel mutate-shell" aria-labelledby="mutateTitle">
            <div class="mutate-grid">
              <div class="mutate-preview">
                <div class="mutate-card">
                  <div class="mutate-thumb">
                    <img id="mutateImg" src="assets/img/placeholder-frog.png" alt="Frog preview" />
                  </div>
                </div>
                <div class="mutate-actions">
                  <button id="btnRefresh" class="btn">Refresh</button>
                  <button id="btnMutate" class="btn">Mutate</button>
                </div>
              </div>
              <div class="mutate-info">
                <h2 id="mutateTitle">Frog #‚Äî</h2>
                <p class="mutate-sub" id="mutateStatus">Loading‚Ä¶</p>
                <ul class="mutate-list" id="mutateTraits"></ul>
                <p class="mutate-kv" id="mutateOwner"></p>
                <p class="mutate-kv" id="mutateNotes"></p>
              </div>
            </div>
          </section>
        </div>
      </section>
    </main>

    <footer class="ff-footer">
      <div class="ff-container ff-footer__inner">
        <span>¬© Fresh Frogs</span>
        <span>Create the next iconic hybrid.</span>
      </div>
    </footer>
  </div>

  <script>
    (function(){
      const CFG = window.FF_CFG || {};
      const TOTAL = Number(CFG.TOTAL_SUPPLY || 4040);
      const ROOT  = String(CFG.SOURCE_PATH || '').replace(/\/+$/,'');
      function rand(n,max){
        const pool = Array.from({length:max}, (_,i)=> i+1);
        for(let i=pool.length-1;i>0;i--){
          const j=Math.floor(Math.random()*(i+1));
          const t=pool[i]; pool[i]=pool[j]; pool[j]=t;
        }
        return pool.slice(0,n);
      }
      function randomize(){
        const imgs = Array.from(document.querySelectorAll('[data-mutate-frog]'));
        if(!imgs.length) return;
        const ids = rand(imgs.length, TOTAL);
        imgs.forEach(function(img, idx){
          const id = ids[idx];
          img.src = ROOT + '/frog/' + id + '.png';
          img.alt = 'Frog ' + id;
        });
      }
      if(document.readyState==='loading') document.addEventListener('DOMContentLoaded', randomize); else randomize();
    })();
  </script>

  <script src="assets/js/theme.js" defer></script>
  <script src="assets/js/topbar.js" defer></script>
  <script src="assets/js/config.js"></script>
  <script src="assets/js/utils.js" defer></script>
  <script src="assets/js/wallet.js" defer></script>
  <script src="assets/js/modal.js" defer></script>
  <script src="assets/js/mutate.js" defer></script>
</body>
</html>

<!doctype html>
<html lang="en" data-theme="noir">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>FreshFrogs — Collection</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/styles.css">
  <!-- ethers v5 (UMD for injected provider compatibility) -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js" crossorigin="anonymous"></script>
</head>
<body>
<header class="site">
  <div class="container hdr">
    <div class="brand">FreshFrogs</div>
    <nav class="nav">
      <a href="#gallery">Collection</a>
      <a href="#trade">Mint & Staking</a>
      <a href="#features">Insights</a>
    </nav>
    <div class="row">
      <span id="walletLabel" class="muted" style="display:none;"></span>
      <button id="connectBtn" class="btn btn-solid btn-sm">Connect Wallet</button>
    </div>
  </div>
</header>

<main class="container">
  <section class="hero">
    <div>
      <h1 class="section-title" style="margin:0;font-size:clamp(2rem,4.2vw,3rem);">Nine random frogs</h1>
      <p class="muted">Fast spotlight grid (standard PNGs). Click tabs below for live data.</p>
    </div>
    <div id="gallery"><div class="gallery" id="grid"></div></div>
  </section>

  <section class="facts" aria-label="Key facts">
    <div class="fact"><b>Supply</b><div class="muted">4,040 tokens</div></div>
    <div class="fact"><b>Chain</b><div class="muted">Ethereum</div></div>
    <div class="fact"><b>Royalty</b><div class="muted">5%</div></div>
    <div class="fact"><b>Mint</b><div class="muted">0.01 ETH</div></div>
  </section>

  <section id="trade" class="two-col" aria-label="Mint and Staking">
    <div class="panel stack" aria-label="Mint (UI only)">
      <div class="row" style="justify-content:space-between;align-items:center">
        <h2 class="section-title" style="margin:0">Mint (demo UI)</h2>
        <div class="pill">Price <b>0.01Ξ</b></div>
      </div>
      <div class="row" style="gap:10px;align-items:center">
        <button id="mintDown" class="icon-btn" aria-label="Decrease">−</button>
        <div id="mintQty" aria-live="polite">1</div>
        <button id="mintUp" class="icon-btn" aria-label="Increase">+</button>
        <input id="mintSlider" type="range" min="1" max="20" step="1" value="1" style="flex:1"/>
      </div>
      <div class="row" style="gap:6px;flex-wrap:wrap">
        <button class="btn btn-ghost btn-sm" data-preset="1">x1</button>
        <button class="btn btn-ghost btn-sm" data-preset="3">x3</button>
        <button class="btn btn-ghost btn-sm" data-preset="5">x5</button>
        <button class="btn btn-ghost btn-sm" data-preset="10">x10</button>
        <button class="btn btn-ghost btn-sm" data-preset="20">x20</button>
      </div>
      <div class="row" style="align-items:center">
        <div class="muted">Total</div>
        <b style="margin-left:6px"><span id="mintTotal">0.01</span> ETH</b>
        <div class="pill" id="gasHint" style="margin-left:10px;">≈ <span id="gasEst">0.000</span> gas ETH</div>
        <div class="spacer"></div>
        <button id="mintBtn" class="btn btn-solid btn-lg">Mint <u>1</u></button>
      </div>
      <p id="mintStatus" class="muted">Status: ready</p>
    </div>

    <div class="panel stack" aria-label="My Frogs">
      <div class="row" style="justify-content:space-between">
        <div>
          <h2 class="section-title" style="margin:0">My Frogs</h2>
          <div class="muted">Owned & Staked (connect wallet)</div>
        </div>
        <div class="tabs" role="tablist" id="stakeTabs">
          <span class="tab-indicator" aria-hidden="true"></span>
          <button class="tab" id="tabOwned"  role="tab" aria-selected="true"  aria-controls="chipWrap">Owned</button>
          <button class="tab" id="tabStaked" role="tab" aria-selected="false" aria-controls="chipWrap">Staked</button>
        </div>
      </div>
      <ul id="chipWrap" class="card-list list-scroll" aria-live="polite"></ul>
      <div class="row" id="stakeControls" style="gap:8px;">
        <button id="refreshOwned" class="btn btn-outline btn-sm">Refresh</button>
        <button id="loadStakedBtn" class="btn btn-ghost btn-sm">Load Staked</button>
      </div>
      <p id="stakeStatus" class="muted">No wallet connected.</p>
    </div>
  </section>

  <section id="features" class="panel stack" aria-label="Insights">
    <div class="row" style="justify-content:space-between;align-items:center;gap:12px;">
      <h2 class="section-title" style="margin:0">Collection Insights</h2>
      <div class="tabs" role="tablist" id="viewTabs" style="min-width:340px;">
        <span class="tab-indicator" aria-hidden="true"></span>
        <button class="tab" data-view="mints"  role="tab" aria-selected="true">Mints</button>
        <button class="tab" data-view="sales"  role="tab" aria-selected="false">Sales</button>
        <button class="tab" data-view="rarity" role="tab" aria-selected="false">Rarity</button>
        <button class="tab" data-view="pond"   role="tab" aria-selected="false">Pond</button>
      </div>
    </div>
    <ul id="featureList" class="card-list list-scroll" aria-live="polite"></ul>
    <div id="featureMoreAnchor" class="list-footer"></div>
    <div class="row" id="featureControls" style="gap:8px;">
      <button class="btn btn-outline" id="refreshBtn">Refresh</button>
      <button class="btn btn-ghost"   id="fetchLiveBtn">Fetch Live</button>
      <button class="btn btn-outline" id="sortRankBtn"  style="display:none;">Sort by Rank</button>
      <button class="btn btn-outline" id="sortScoreBtn" style="display:none;">Sort by Score</button>
    </div>
  </section>
</main>

<footer class="site">
  <div class="container ftr">
    <div>© FreshFrogs 2025</div>
    <div class="links">
      <a href="https://opensea.io" target="_blank" rel="noopener">OpenSea</a>
      <a href="https://etherscan.io" target="_blank" rel="noopener">Etherscan</a>
      <a href="https://freshfrogs.github.io/" target="_blank" rel="noopener">Docs</a>
    </div>
  </div>
</footer>

<!-- Lightbox container for frog details (your existing CSS styles it) -->
<div id="lightbox" class="lightbox" style="display:none">
  <div id="lightboxStage" class="stage"></div>
</div>

<!-- ABI (global consts) -->
<script src="assets/abi/collection_abi.js"></script>
<script src="assets/abi/controller_abi.js"></script>

<!-- ES Modules (load order matters) -->
<script type="module" src="assets/js/core.js"></script>
<script type="module" src="assets/js/staking.js"></script>
<script type="module" src="assets/js/main.js"></script>
</body>
</html>

<!DOCTYPE html>
<style>
  .pointer {
    cursor: pointer;
  }
  .pointerOff {
    cursor: pointer;
  }
  .process {
    cursor: pointer;
  }
  .processImages{
    cursor: pointer;
  }
  .collection{
    cursor: pointer;
  }
  .collectionImg{
    cursor: pointer;
  }
  .page-section {
    font-family: "Trebuchet MS", Helvetica, sans-serif;
    font-weight: 500;
    color: rgba(126, 183, 128, 1);
    font-size: small;
    image-rendering: pixelated;
    text-align: center;
  }
  .pre {
    font-size: small;
    border-radius: 0%;
    text-align: center;
    image-rendering: pixelated;
  }
  .h1 {
    font-family: "Trebuchet MS", Helvetica, sans-serif;
    font-weight: 800;
    color: white;
    text-align: center;
    image-rendering: pixelated;
    padding: 0%;
    font-size: xx-large;
  }
  .h2 {
    font-family: "Trebuchet MS", Helvetica, sans-serif;
    font-weight: 800;
    color: white;
    text-align: center;
    image-rendering: pixelated;
    font-size: large;
    padding: 0%;
    height: 300%;
    line-height: 300%;
    vertical-align: middle;
  }
  .h3 {
    font-family: "Trebuchet MS", Helvetica, sans-serif;
    text-align: center;
    image-rendering: pixelated;
    padding: 0%;
    font-size: x-large;
  }
  .os{
    float: left;
    width: 20%;
    image-rendering: pixelated;
    vertical-align: middle;
    padding: 0px;
    margin: -5px;
    border-radius: 100%;
  }
  .collectionImg { 
    transition: transform .2s;
    width: 128px;
    vertical-align: center;
    margin-left: 8px;
    margin-right: 8px;
    text-align: center;
    box-shadow: 5px 10px rgba(211, 211, 211, 0.329);
  }
  .collection {
    image-rendering: pixelated;
  }
  .collectionImg:hover{
    -ms-transform: scale(2.0); /* IE 9 */
    -webkit-transform: scale(2.0); /* Safari 3-8 */
    transform: scale(2.0);
    box-shadow: none;
  }
  .pixelated{
    image-rendering: pixelated;
  }
  .nextTokenImgCont{
    vertical-align: center;
    display: flex;
    padding: 0px;
    margin: 0px;
  }
  .nextTokenImg {
    image-rendering: pixelated;
    vertical-align: center;
    border-radius: 0%;
    box-shadow: 5px 10px rgba(211, 211, 211, 0.329);
  }
  .sizeOne{
    width: 100%;
    transition: transform .2s;
  }
  .sizeOne:hover{
    -ms-transform: scale(1.0); /* IE 9 */
    -webkit-transform: scale(1.0); /* Safari 3-8 */
    transform: scale(1.0);
    box-shadow: none;
  }
  .sizeTwo{
    width: calc(100% / 2);
    transition: transform .2s;
  }
  .sizeTwo:hover{
    -ms-transform: scale(2.0); /* IE 9 */
    -webkit-transform: scale(2.0); /* Safari 3-8 */
    transform: scale(2.0);
    box-shadow: none;
  }
  .sizeThree{
    width: calc(100% / 3);
    transition: transform .2s;
  }
  .sizeThree:hover{
    -ms-transform: scale(3.0); /* IE 9 */
    -webkit-transform: scale(3.0); /* Safari 3-8 */
    transform: scale(3.0);
    box-shadow: none;
  }
  .repoHeader{
    margin-left: auto;
    margin-right: auto;
    width: 50%;
    position: unset;
    float: unset;
  }
  .repoHeader2{
    margin-left: auto;
    margin-right: 8px;
    right: 50%;
    width: 15%;
    height: 10%;
    text-align: center;
    float: unset;
    position: unset;
    background-color: white;
    border: 8px outset rgba(126, 183, 128, 1);
    border-radius: 0%;
    padding: 16px;
  }
  .repoPre{
    margin-right: auto;
    left: 50%;
    height: 33%;
    width: 33%;
    padding: 16px;
    border: 8px outset rgba(126, 183, 128, 1);
    text-align: center;
    float: unset;
    position: unset;
    font-family: "Trebuchet MS", Helvetica, sans-serif;
    font-weight: 500;
  }
  .wrapper2{
    display: flex;
    flex-wrap: wrap;
    float: unset;
    position: unset;
    height: 100%;
  }
  .repoDownloads{
    position: unset;
    float: unset;
    position: unset;
    padding: 0px;
    margin-top: 0px;
    margin-bottom: 16px;
    border-radius: 0%;
    box-shadow: 5px 10px rgba(211, 211, 211, 0.329);
    font-family: "Trebuchet MS", Helvetica, sans-serif;
    font-weight: 500;
    width: auto;
  }
  body {
    background-image: url("/assets/background.png");
    image-rendering: pixelated;
    position: unset;
    float: unset;
  }
  .mintingBanner{
    color: white;
  }
</style>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

    <!-- ----------------------------------- Begin Script f0 / Call all web3 variables ------------------------------------ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.7.0-rc.0/web3.min.js"></script>
    <script src="https://unpkg.com/f0js/dist/f0.js"></script>
    <script>
    document.addEventListener("DOMContentLoaded", async () => {
      // ------------------------------------------------------------------------------------------------------------------------ >
      for(let frog=1; frog<=4; frog++) {
          whichFrog = Math.floor(Math.random() * 40)+frog;
          frogSource = "./assets/frogs/"+whichFrog+".png";
          document.getElementById("frog"+frog).innerHTML = "<img src='"+frogSource+"' id='frogImg"+frog+"' class='collectionImg' alt='"+whichFrog+"'></a>"
        }
      // ------------------------------------------------------------------------------------------------------------------------ >
      const web3 = new Web3(window.ethereum)
      const f0 = new F0();
      await f0.init({
        web3: web3,
        contract: "0xc2203Ff7B9d1c65c8Cf0F6c776f6CF358af3c524",
      })
      const userAcc = web3.currentProvider.selectedAddress;
      const addressCut = userAcc.substring(0, 5)+"..."+userAcc.slice(-4);
      const myInvites = await f0.myInvites()
      const myInvitesKeys = Object.keys(myInvites)

      let nextId = await f0.api.nextId().call()
      let nextToken = await f0.get(nextId);
      let mintPrice = "0.02"
      let mintAmmount = 1 // number to mint
      let mintInviteCode = null // invite code to mint from
      let mintList = parseInt(nextId)
      let mintLimit = 1



      // ----------------------------------------------------------------------------------------------------------------------- >
      if (myInvitesKeys[1] === "0x6697b8afb461b284f8f1c7bdc9a7437ca414ea08433ac2c83f07c7f7f342d550") {
        myInviteFound = "0x6697b8afb461b284f8f1c7bdc9a7437ca414ea08433ac2c83f07c7f7f342d550"
        document.getElementById("netStatus").innerHTML = "Please connect an Ethereum wallet... <b><i>"+addressCut+" ✓</i></b>"+"[ ! ] An invite code was found coupled with this address... <b><a id='setInvite' class='pointer' href=''>Apply</a></b>\n"
      } else { 
        myInviteFound = null
        document.getElementById("netStatus").innerHTML = "Please connect an Ethereum wallet... <b><i>"+addressCut+" ✓</i></b>\n<a id='setInvite' class='pointer'></a>"
      }
      // ----------------------------------------------------------------------------------------------------------------------- >
      document.getElementById("nextTokenImg").setAttribute("src", nextToken.converted.image)                // Set preview image to next token ID
      document.getElementById("nextToken").innerHTML = "<strong> #"+nextId+"</strong>FROG"                  // Update next token ID on preview
      document.getElementById("mintTransact").innerHTML = "<strong>MINT</strong>(transact)"                 // Update Mint button
      document.getElementById("mintTransact").removeAttribute("href")                                       // Removes mint button link
      document.getElementById("setInvite").removeAttribute("href")                                          // Removes set invite link
      //
      
      consoleOutput("[ - ] <b><strong>FROG(s) #"+parseInt(nextId)+" - #"+(parseInt(nextId)+3)+"</strong></b> are now available to mint... <b><a id='listPrices' class='pointer'>See Pricing</a></b>\n")
      document.getElementById("gasEstimate").innerHTML = "<strong>"+mintPrice+" ΞETH</strong>plus gas"
      document.getElementById("gasEstimate").removeAttribute("href")
      // Update preview images with live ones after web3 connection
      for(let i=0; i<=3; i++) {
        nextTokenInit = parseInt(nextId) + i;
        nextToken = await f0.get(nextTokenInit);
        document.getElementById("frogImg"+(i+1)).setAttribute("src", nextToken.converted.image)
        document.getElementById("frogImg"+(i+1)).setAttribute("alt", nextTokenInit)
      }
      // ------------------------------------------------------------------------------------------------------------------------ >
      // FIRST FROG
      document.querySelector("#frog1").addEventListener("click", async (e) => {
        let tokenOneThis = document.getElementById("frogImg1").getAttribute('alt')
        let tokenOne = await f0.get(tokenOneThis);
        document.getElementById("nextTokenImg").setAttribute("src", tokenOne.converted.image);
        document.getElementById("nextTokenImg").setAttribute("alt", tokenOneThis);
        document.getElementById("nextTokenImg").setAttribute("class", "nextTokenImg sizeOne")
        document.getElementById("nextTokenImg2").removeAttribute("src");
        document.getElementById("nextTokenImg2").removeAttribute("alt");
        document.getElementById("nextTokenImg3").removeAttribute("src");
        document.getElementById("nextTokenImg3").removeAttribute("alt");
        document.getElementById("nextTokenImg4").removeAttribute("src");
        document.getElementById("nextTokenImg4").removeAttribute("alt");
        mintList = parseInt(nextId)
        mintAmmount = 1;
        document.getElementById("nextToken").innerHTML = "<strong> #"+mintList+"</strong>FROG"
      })
      // SECOND FROG
      document.querySelector("#frog2").addEventListener("click", async (e) => {
        let tokenOneThis = document.getElementById("frogImg1").getAttribute('alt')
        let tokenOne = await f0.get(tokenOneThis);
        document.getElementById("nextTokenImg").setAttribute("src", tokenOne.converted.image);
        document.getElementById("nextTokenImg").setAttribute("alt", tokenOneThis);
        let tokenTwoThis = document.getElementById("frogImg2").getAttribute('alt')
        let tokenTwo = await f0.get(tokenTwoThis);
        document.getElementById("nextTokenImg2").setAttribute("src", tokenTwo.converted.image);
        document.getElementById("nextTokenImg2").setAttribute("alt", tokenTwoThis);
        document.getElementById("nextTokenImg3").removeAttribute("src");
        document.getElementById("nextTokenImg3").removeAttribute("alt");
        document.getElementById("nextTokenImg4").removeAttribute("src");
        document.getElementById("nextTokenImg4").removeAttribute("alt");
        document.getElementById("nextTokenImg").setAttribute("class", "nextTokenImg sizeTwo")
        document.getElementById("nextTokenImg2").setAttribute("class", "nextTokenImg sizeTwo")
        mintList = parseInt(nextId)+", "+(parseInt(nextId)+1)
        mintAmmount = 2;
        document.getElementById("nextToken").innerHTML = "<strong> #"+mintList+"</strong>FROG(s)"
      })
      // THIRD FROG
      document.querySelector("#frog3").addEventListener("click", async (e) => {
        let tokenOneThis = document.getElementById("frogImg1").getAttribute('alt')
        let tokenOne = await f0.get(tokenOneThis);
        document.getElementById("nextTokenImg").setAttribute("src", tokenOne.converted.image);
        document.getElementById("nextTokenImg").setAttribute("alt", tokenOneThis);
        let tokenTwoThis = document.getElementById("frogImg2").getAttribute('alt')
        let tokenTwo = await f0.get(tokenTwoThis);
        document.getElementById("nextTokenImg2").setAttribute("src", tokenTwo.converted.image);
        document.getElementById("nextTokenImg2").setAttribute("alt", tokenTwoThis);
        let tokenThreeThis = document.getElementById("frogImg3").getAttribute('alt')
        let tokenThree = await f0.get(tokenThreeThis);
        document.getElementById("nextTokenImg3").setAttribute("src", tokenThree.converted.image);
        document.getElementById("nextTokenImg3").setAttribute("alt", tokenThreeThis);
        document.getElementById("nextTokenImg4").removeAttribute("src");
        document.getElementById("nextTokenImg4").removeAttribute("alt");
        document.getElementById("nextTokenImg4").removeAttribute("class");
        document.getElementById("nextTokenImg").setAttribute("class", "nextTokenImg sizeTwo")
        document.getElementById("nextTokenImg2").setAttribute("class", "nextTokenImg sizeTwo")
        document.getElementById("nextTokenImg3").setAttribute("class", "nextTokenImg sizeTwo")
        mintList = parseInt(nextId)+"-"+(parseInt(nextId)+2)
        document.getElementById("nextToken").innerHTML = "<strong> #"+mintList+"</strong>FROG(s)"
        mintAmmount = 3;
      })
      // FOURTH FROG
      document.querySelector("#frog4").addEventListener("click", async (e) => {
        let tokenOneThis = document.getElementById("frogImg1").getAttribute('alt')
        let tokenOne = await f0.get(tokenOneThis);
        document.getElementById("nextTokenImg").setAttribute("src", tokenOne.converted.image);
        document.getElementById("nextTokenImg").setAttribute("alt", tokenOneThis);
        let tokenTwoThis = document.getElementById("frogImg2").getAttribute('alt')
        let tokenTwo = await f0.get(tokenTwoThis);
        document.getElementById("nextTokenImg2").setAttribute("src", tokenTwo.converted.image);
        document.getElementById("nextTokenImg2").setAttribute("alt", tokenTwoThis);
        let tokenThreeThis = document.getElementById("frogImg3").getAttribute('alt')
        let tokenThree = await f0.get(tokenThreeThis);
        document.getElementById("nextTokenImg3").setAttribute("src", tokenThree.converted.image);
        document.getElementById("nextTokenImg3").setAttribute("alt", tokenThreeThis);
        let tokenFourThis = document.getElementById("frogImg4").getAttribute('alt')
        let tokenFour = await f0.get(tokenFourThis);
        document.getElementById("nextTokenImg4").setAttribute("src", tokenFour.converted.image);
        document.getElementById("nextTokenImg4").setAttribute("alt", tokenFourThis);
        document.getElementById("nextTokenImg").setAttribute("class", "nextTokenImg sizeTwo")
        document.getElementById("nextTokenImg2").setAttribute("class", "nextTokenImg sizeTwo")
        document.getElementById("nextTokenImg3").setAttribute("class", "nextTokenImg sizeTwo")
        document.getElementById("nextTokenImg4").setAttribute("class", "nextTokenImg sizeTwo")
        mintList = parseInt(nextId)+"-"+(parseInt(nextId)+3)
        document.getElementById("nextToken").innerHTML = "<strong> #"+mintList+"</strong>FROG(s)" // Update next token ID
        mintAmmount = 4;
      })
      // ------------------------------------------------------------------------------------------------------------------------ >
      // EVENT LISTENER -- MINT, GAS EST, SETINVITE
      document.querySelector("#gasEstimate").addEventListener("click", async (e) => {
        consoleOutput("[ - ] Estimated gas cost to mint...");
        try {
          // code
        } catch (e) {
          alert(e.message)
        }
      })
      //
      document.querySelector("#listPrices").addEventListener("click", async (e) => {
        consoleOutput("[ - ] 404 Frogs Available @ 0.00 ΞETH [1 per Wallet with Invite Code]")
        consoleOutput("[ - ] 808 Frogs Available @ 0.02 ΞETH [4 per Wallet]")
        consoleOutput("[ - ] 2,828 Frogs Available @ 0.04 ΞETH [4 per wallet] ")
        consoleOutput("[ - ] Maximum mint per wallet: 8")
      })
      //
      document.querySelector("#mintTransact").addEventListener("click", async (e) => {
        consoleOutput("[ ! ] Minting <b>FROG(s) #"+mintList+"</b>... please sign the transaction and wait...\n [ ! ] Please do not close or refresh the page!\n [ ! ] Gas prices are extremely volatile and estimates are not exact.")
        try {
          let tokens = await f0.mint(mintInviteCode, mintAmmount)
          var openseaTest = tokens.map((token) => { // return opensea link for newly minted token
            return token.links.opensea
          })
        } catch (e) {
          alert(e.message.code)
        }
        consoleOutput("<hr><h3 class='h3'>Congratulations!</h3>"+"<b>FROG(s) #"+mintList+" </b>have successfully been minted! <a href='"+openseaTest[0]+"'><b>View on Opensea</a></b><hr>")
      })
      document.querySelector("#setInvite").addEventListener("click", async (e) => {
        mintPrice = JSON.stringify(myInvites[myInviteFound].condition.converted.eth, myInviteFound, 1)
        mintLimit = JSON.stringify(myInvites[myInviteFound].condition.converted.limit, myInviteFound, 1)
        mintInviteCode = myInviteFound
        consoleOutput("[ - ] Invite code has been applied... "+mintLimit+" FROG(s) @ "+mintPrice+" ΞETH")
        document.getElementById("gasEstimate").innerHTML = "<strong>"+mintPrice+" ΞETH</strong>plus gas"
      })
    })

    // ------------------------------------------------------------------------------------------------------------------------ >
    function consoleOutput(output) {
      newLine = document.createElement("div")
      newLine.innerHTML = output
      document.getElementById("pre2").appendChild(newLine)
    }

    </script>
  </head>
  <body> <!-- Main Body -->
    <section class="page-section repoHeader"> <!-- Main Content Layout / Index.md -->
      {{ content }}
    </section>

    <div class="wrapper2">
      <header class="pixelated repoHeader2"> <!-- Left Side Header / Opensea Link / Preview Image -->
        <ul class="downloads repoDownloads">
            <li>
                <a id="nextToken" class="pointerOff"><strong>4,040</strong>frogs</a>
            </li>
            <li>
                <a id="gasEstimate" class="pointerOff" href=""><strong>0.04 ΞETH</strong>plus gas</a>
            </li>
            <li>
                <a id="mintTransact" class="pointer" href="https://freshfrogs.github.io/"><b><strike><strong>Mint</strong></strike></b>link wallet!</a>
            </li>
        </ul>
        <div class="nextTokenImgCont" id="nextTokenImgCont"><img id="nextTokenImg" class="nextTokenImg" src="/assets/frogs/FR0G.png"><img id="nextTokenImg2" class="nextTokenImg" src=""></div><div class="nextTokenImgCont" id="nextTokenImgCont2"><img id="nextTokenImg3" class="nextTokenImg" src=""><img id="nextTokenImg4" class="nextTokenImg" src=""></div>
      </header>
      <pre id="pre" class="pre repoPre"><br><h2 class="h3">Mint Your Own <b>FROG</b></h2><div class= "collection" id="collection"><a id="frog1"></a><a id="frog2"></a><a id="frog3"></a><a id="frog4"></a></div><br><hr><netStatus id="netStatus">Please connect an Ethereum wallet... <b><a href="https://freshfrogs.github.io/">Connect</a></b><br>Don't have a wallet?... <b><a href="https://metamask.io/download/" target="_blank">Download MetaMask</a></b></netStatus><br><pre2 id="pre2"></pre2></pre>
    </div>
    
    <footer> <!-- Footer? -->
    </footer>

    <script src="{{ "/assets/js/scale.fix.js" | relative_url }}"></script>
  </body>
</html>

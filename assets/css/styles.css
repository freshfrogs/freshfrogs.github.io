/* Slim segmented feature tabs (avoid chunky slider/overlap) */
#viewTabs { display:flex; gap:8px; align-items:center; border-bottom:1px solid var(--line); padding:0 2px 6px; }
#viewTabs .tab {
  appearance:none; background:transparent; border:0; cursor:pointer;
  padding:6px 10px; font:inherit; color:var(--muted); position:relative;
}
#viewTabs .tab[aria-selected="true"] { color:var(--fg); }
#viewTabs .tab[aria-selected="true"]::after {
  content:""; position:absolute; left:0; right:0; bottom:-7px; height:2px;
  background:var(--fg); border-radius:2px;
}

/* Lightbox: transparent stage & softer overlay */
#lightboxStage { background: transparent !important; box-shadow: none !important; }
.lightbox { background: rgba(0,0,0,0.44) !important; }

/* Modal visuals (match panel look, but keep chrome light) */
.modal-card.modal-clean { background: transparent; box-shadow:none; display:flex; flex-direction:column; gap:12px; position:relative; }
.modal-clean .modal-close { position:absolute; top:8px; right:8px; }
.modal-render { display:grid; place-items:center; background: transparent !important; }

.modal-composite {
  position: relative;
  width:512px; height:512px; max-width:100%;
  border-radius:12px; overflow:hidden;
  background: transparent; /* background comes from .modal-bg-img */
}

/* Stretched PNG background so only color field is visible */
.modal-bg-img {
  position:absolute; inset:0;
  background-repeat:no-repeat;
  background-position:center center;
  background-size:3000% 3000%;
  z-index:0;
  /* Optional softening:
     filter: blur(20px);
     transform: scale(1.05);
  */
}

/* Trait/attribute layers */
.modal-composite img {
  position:absolute; inset:0;
  width:100%; height:100%;
  object-fit:contain; image-rendering:pixelated;
}

/* Vignette & info panel */
.render-vignette {
  width:512px; height:512px; max-width:100%;
  margin-top:-512px; pointer-events:none;
  border-radius:12px;
  background:
    radial-gradient(60% 60% at 50% 40%, rgba(255,255,255,0.08), rgba(0,0,0,0) 60%),
    radial-gradient(100% 100% at 50% 100%, rgba(0,0,0,0.18), rgba(0,0,0,0) 55%);
}
.modal-info.panelish {
  background: var(--panel);
  border:1px solid var(--line);
  border-radius:12px;
  padding:12px;
}

/* Utilities used by the lists & modal */
.row { display:flex; align-items:center; }
.row.gap8 { gap:8px; }
.row.tight { gap:10px; flex-wrap:wrap; }
.grid2 { display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); }
.gap8 { gap:8px; }
.traits-scroll { max-height:220px; overflow:auto; border-top:1px dashed var(--line); padding-top:8px; }
.h3 { font-size:1.05rem; margin:0; }

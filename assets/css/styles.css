/* =========================================================
   Fresh Frogs — styles.css (complete drop-in)
   ========================================================= */

/* ---------- Base + Theme Tokens ---------- */
:root {
  --font-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  /* Defaults (Noir) */
  --bg: #0d0f11;
  --fg: #e9ecf1;
  --muted: #a9b0bb;
  --panel: #14171a;
  --line: #24292f;
  --accent: #66e0a3;
  --accent-2: #6ec3ff;
  --danger: #ff6b6b;

  --radius: 12px;
  --r-sm: 8px;
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;

  --shadow-s: 0 1px 2px rgba(0,0,0,0.25);
  --shadow-m: 0 8px 24px rgba(0,0,0,0.35);
}

.theme-noir {
  --bg: #0d0f11;
  --fg: #e9ecf1;
  --muted: #a9b0bb;
  --panel: #14171a;
  --line: #24292f;
  --accent: #66e0a3;
  --accent-2: #6ec3ff;
}

.theme-pastel {
  --bg: #f7fbff;
  --fg: #28323c;
  --muted: #6a7480;
  --panel: #ffffff;
  --line: #e8eef3;
  --accent: #5dc1b9;
  --accent-2: #7aa7ff;
}

/* ---------- Global ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: var(--font-sans);
  color: var(--fg);
  background: radial-gradient(1200px 800px at 10% -10%, rgba(102, 224, 163, 0.06), transparent 40%),
              radial-gradient(1200px 800px at 110% 110%, rgba(110, 195, 255, 0.06), transparent 40%),
              var(--bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a { color: var(--accent-2); text-decoration: none; }
a:hover { text-decoration: underline; }

/* ---------- Layout Helpers ---------- */
.container { max-width: 1200px; margin: 0 auto; padding: var(--space-4); }
.row { display: flex; align-items: center; }
.row.gap8 { gap: 8px; }
.row.tight { gap: 10px; flex-wrap: wrap; }
.grid2 { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); }
.gap8 { gap: 8px; }

/* ---------- Panels ---------- */
.panel {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: var(--space-4);
  box-shadow: var(--shadow-s);
}
.panel + .panel { margin-top: var(--space-4); }

.panel-header {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: var(--space-3);
}
.panel-title {
  margin: 0;
  font-weight: 600;
  letter-spacing: 0.2px;
}

/* ---------- Buttons ---------- */
.btn {
  appearance: none; border: 1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.08));
  color: var(--fg);
  padding: 8px 12px; border-radius: 10px;
  cursor: pointer; font: inherit;
  transition: transform .05s ease, background .2s ease, border-color .2s ease;
}
.btn:hover { border-color: rgba(255,255,255,0.2); }
.btn:active { transform: translateY(1px); }
.btn:disabled { opacity: .55; cursor: not-allowed; }

.btn-primary {
  border-color: rgba(255,255,255,0.15);
  background: linear-gradient(180deg, rgba(102,224,163,0.14), rgba(102,224,163,0.08));
}
.btn-outline {
  background: transparent;
  border-color: var(--line);
}
.btn-ghost {
  background: transparent; border-color: transparent; color: var(--muted);
}
.btn-sm { padding: 6px 10px; border-radius: 8px; font-size: 0.92rem; }

/* Chip tabs (Owned/Staked selector when used) */
.tabs-chips {
  display: inline-flex; gap: 6px; background: transparent; border-radius: 999px; padding: 2px;
}
.tabs-chips .chip {
  border: 1px solid var(--line);
  padding: 6px 12px; border-radius: 999px; cursor: pointer;
  background: rgba(255,255,255,0.02);
}
.tabs-chips .chip[aria-selected="true"] {
  color: var(--fg);
  border-color: var(--accent);
  background: rgba(102, 224, 163, 0.12);
}

/* ---------- Pills + Badges ---------- */
.pill {
  display: inline-flex; align-items: center; gap: 4px;
  border: 1px solid var(--line);
  background: rgba(255,255,255,0.03);
  color: var(--fg);
  padding: 2px 8px;
  border-radius: 999px; font-size: 0.85rem;
}
.pill-ghost { color: var(--muted); }

/* ---------- Feature Tabs (Mints / Sales / Rarity / Pond) ---------- */
#viewTabs {
  display: flex; gap: 8px; align-items: center;
  border-bottom: 1px solid var(--line);
  padding: 0 2px 6px;
}
#viewTabs .tab {
  appearance: none; background: transparent; border: 0; cursor: pointer;
  padding: 6px 10px; font: inherit; color: var(--muted); position: relative;
  border-radius: 6px;
}
#viewTabs .tab:hover { color: var(--fg); }
#viewTabs .tab[aria-selected="true"] { color: var(--fg); }
#viewTabs .tab[aria-selected="true"]::after {
  content: ""; position: absolute; left: 0; right: 0; bottom: -7px; height: 2px;
  background: var(--fg); border-radius: 2px;
}

/* ---------- Grid (Hero 3×3) ---------- */
#grid {
  display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 10px;
}
.tile {
  border-radius: var(--r-sm);
  overflow: hidden;
  border: 1px solid var(--line);
  background: var(--panel);
  box-shadow: var(--shadow-s);
  aspect-ratio: 1 / 1;
}
.tile img {
  display: block; width: 100%; height: 100%; object-fit: cover;
  image-rendering: pixelated;
}

/* ---------- Lists (Mints / Sales / Rarity / Pond / Owned / Staked) ---------- */
.list {
  list-style: none; margin: 0; padding: 0;
  max-height: 390px; overflow: auto;
  scroll-behavior: smooth;
}
.list-item {
  display: grid;
  grid-template-columns: 128px 1fr auto;  /* 128 thumb, content, price/action */
  align-items: center;
  gap: 12px; padding: 10px 8px; border-bottom: 1px solid var(--line);
}
.list-item:last-child { border-bottom: 0; }
.list-item:hover { background: rgba(255,255,255,0.03); }

/* Thumbs: 128×128 desktop; 64×64 on mobile */
.thumb64 {
  width: 128px !important; height: 128px !important;
  object-fit: cover; image-rendering: pixelated;
  border-radius: 8px; border: 1px solid var(--line);
  background: var(--panel);
}

/* price column (mints/sales) */
.price { color: var(--fg); font-weight: 600; white-space: nowrap; }

/* address chip text */
.addr { font-family: var(--font-mono); color: var(--fg); }

/* list footer (optional “Load more”) */
.list-footer { display: flex; justify-content: center; padding: 8px 0 0; }

/* ---------- Rarity + Traits scroll region ---------- */
.traits-scroll {
  max-height: 220px;
  overflow: auto;
  border-top: 1px dashed var(--line);
  padding-top: 8px;
  color: var(--muted);
}
.h3 { font-size: 1.05rem; margin: 0; }

/* ---------- Wallet / Stake section ---------- */
#stakeControls { display: flex; gap: 8px; flex-wrap: wrap; }
#stakeStatus { color: var(--muted); font-size: 0.95rem; }

/* ---------- Lightbox + Modal ---------- */
.lightbox {
  position: fixed; inset: 0; z-index: 9999;
  display: none; place-items: center;
  background: rgba(0,0,0,0.44) !important; /* translucent backdrop */
}

#lightboxStage {
  background: transparent !important;  /* ensure transparent stage */
  box-shadow: none !important;
  width: min(960px, 96vw);
  max-height: 92vh;
  padding: 0;
}

.modal-card {
  position: relative;
  display: flex; flex-direction: column; gap: 12px;
  background: transparent; box-shadow: none;
}

.modal-clean { background: transparent; box-shadow: none; }
.modal-clean .modal-close {
  position: absolute; top: 8px; right: 8px;
}

/* Render block (centered) */
.modal-render { display: grid; place-items: center; background: transparent; }

/* Layered composite: 512×512 with background supplied by stretched PNG */
.modal-composite {
  position: relative;
  width: 512px; height: 512px; max-width: 100%;
  border-radius: var(--radius);
  overflow: hidden;
  background: transparent; /* filled by .modal-bg-img below */
}

/* Stretched PNG background — anchor bottom-right so only flat bg color shows */
.modal-bg-img {
  position: absolute; inset: 0;
  background-repeat: no-repeat;
  background-position: 100% 100% !important;  /* right bottom */
  --modal-bg-zoom: 7000%;
  background-size: var(--modal-bg-zoom) var(--modal-bg-zoom) !important;
  z-index: 0;
  /* Optional softening if needed:
     filter: blur(14px);
     transform: scale(1.02);
  */
}

/* Trait / attribute layers (inserted by JS) */
.modal-composite img {
  position: absolute; inset: 0;
  width: 100%; height: 100%;
  object-fit: contain;
  image-rendering: pixelated;
}

/* Soft vignette overlay */
.render-vignette {
  width: 512px; height: 512px; max-width: 100%;
  margin-top: -512px; pointer-events: none;
  border-radius: var(--radius);
  background:
    radial-gradient(60% 60% at 50% 40%, rgba(255,255,255,0.08), rgba(0,0,0,0) 60%),
    radial-gradient(100% 100% at 50% 100%, rgba(0,0,0,0.18), rgba(0,0,0,0) 55%);
}

/* Modal info panel (matches site panels) */
.modal-info.panelish {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: var(--space-4);
  box-shadow: var(--shadow-s);
}

/* ---------- Headers, subtitles ---------- */
.section-title { margin: 0 0 8px; font-weight: 600; }
.subtitle { color: var(--muted); margin: 0; }

/* ---------- Scrollbars (WebKit/Chromium) ---------- */
.list::-webkit-scrollbar,
.traits-scroll::-webkit-scrollbar {
  width: 10px; height: 10px;
}
.list::-webkit-scrollbar-thumb,
.traits-scroll::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.02));
  border: 1px solid var(--line);
  border-radius: 999px;
}
.list::-webkit-scrollbar-track,
.traits-scroll::-webkit-scrollbar-track {
  background: transparent;
}

/* ---------- Responsive tweaks ---------- */
@media (max-width: 900px) {
  .grid2 { grid-template-columns: 1fr; }
  #grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 560px) {
  #grid { grid-template-columns: 1fr; }
  .list-item { grid-template-columns: 64px 1fr auto; gap: 10px; }
  .thumb64 { width: 64px !important; height: 64px !important; }

  /* Modal: 512 -> 256 on small screens */
  .modal-composite {
    width: 256px !important;
    height: 256px !important;
  }
  .render-vignette {
    width: 256px !important;
    height: 256px !important;
    margin-top: -256px !important;
  }
}
